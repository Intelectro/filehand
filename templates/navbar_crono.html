{# bootstrap 4 navbar https://v4-alpha.getbootstrap.com/components/navbar/ #}
{% load staticfiles %}
{% load custom %} {# templatetags/custom #}
{% load i18n %}
{% load l10n %}
<style>
	.navbar.navbar-light.bg-faded.navbar-static-top {background-color: #F2E000; border-radius:0; padding:0;}
	.navbar.navbar-light.bg-faded.navbar-static-top * {background-color: #F2E000;}
	.nav.navbar-nav .nav-link {padding-top: .6rem; padding-bottom: .1rem;}
	@media screen and (max-width: 991px){
		.navbar-toggleable-md .navbar-nav {padding: 3rem 0 0 3rem; display: block;}
		.nav.navbar-nav.pull-xs-right.right-side-ul{ display:block; float:left!important; margin:0; padding-top:0}
	}
</style>
<!-- <nav class="navbar navbar-default navbar-static-top"> -->
<nav class="navbar navbar-light bg-faded navbar-static-top">

	<div class="container">
	
		<div class="navbar-header">
			<div style="float:right; margin-top:.5rem;">
				<button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"></button>
			</div>
		<!-- <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">	<span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> -->
			<a class="navbar-brand" href="/"> <img src="{% static 'img/cronotaxi_title.jpg' %}" /> </a>
		</div>

		<div class="collapse navbar-toggleable-md" id="navbarResponsive">
			<ul class="nav navbar-nav">
				<li {% if 'about' in request.path %} class="nav-item active" {% else %} class="nav-item" {% endif %}>
					<a class="nav-link" href="{% url 'about' %}">About <span class="sr-only">(about)</span> </a>
				</li> {# <!-- you can also pass variables to the html page -->	#}
      
				<li class="nav-item dropdown folios">
					<a class="nav-link dropdown-toggle" href="" id="responsiveNavbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Folios</a>
					<!-- <li class="nav-item dropdown"> -->
					<div class="dropdown-menu" aria-labelledby="responsiveNavbarDropdown">
						<a {% if 'lista' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href= "{% url 'lista' %}" > Upload Image </a>
						<a {% if 'receipt_create' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'receipt_create' %}"> Crear </a>
						<a {% if 'receipt_list' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'receipt_list' %}"> Listar </a>
						<span role="separator" class="divider"></span>
						<span class="dropdown-header">En Proceso</span>
						<a {% if 'receipts_view' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'receipts_view' %}"> receipts_view </a>
					</div>
				</li>

				<li class="nav-item dropdown filehand">
					<a class="nav-link dropdown-toggle" href="" id="responsiveNavbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">filehand</a>
					<div class="dropdown-menu" aria-labelledby="responsiveNavbarDropdown">
						<a {% if 'articles' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'articles' %}">Articles</a>
						<a {% if 'lista' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'lista' %}">Lista</a>
						<a {% if 'addClasCrispy' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'addClasWcrispy' ' ' %}">Add clas Crispy</a>
						<a {% if 'addClas' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'addClas' %}">Add clas</a>
						<a {% if 'articlePermissions' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'articlePermissions' ' ' ' '%}">Article Permissions</a>
						<a {% if 'uploadArticleImages' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'uploadArticleImages' ' ' %}">Article Images</a>
					</div>
				</li>

				<li class="nav-item dropdown demos">
					<a class="nav-link dropdown-toggle" href="" id="responsiveNavbarDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Demos</a>
					<div class="dropdown-menu" aria-labelledby="responsiveNavbarDropdown">
						<a {% if 'home' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="/home.html">Home</a>
						<!-- takes you to http://localhost:8000/home -->
						<a {% if 'example' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="/example-fluid.html">Example</a>
						<a {% if 'sample' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="/sample.html">Sample</a>

						<span role="separator" class="divider"></span>
						<span class="dropdown-header">Nav header</span>
						
						<a {% if 'contact' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="/contact.html">Contact</a>
						<a {% if 'tests_general' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="/tests_general.html">Tests General</a>

						<span role="separator" class="divider"></span>
						<span class="dropdown-header">Dev Tests</span>

						<a {% if 'regex' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'regex' %}">Regular expressions</a>

						<a {% if 'salir' in request.path %} class="dropdown-item active" {% else %} class="dropdown-item" {% endif %} href="{% url 'auth_logout' %}">Salir</a>

					</div>
				</li>
			</ul>

			<ul id="lang-switch" class="nav navbar-nav pull-xs-right right-side-ul" style="float:right"> {# pull-xs-right should be but is not in bootstrap 4 alpha 5 #}
				<li class="nav-item">
					<a class="nav-link" href="{% url 'user' %}">
					{% if request.user.is_authenticated %}
						<i class="fa fa-user" aria-hidden="true"></i>
						{% trans "Hola " %} {{ request.user|employee_data:'first_name' }}
					{% else %}
						<i class="fa fa-user" aria-hidden="true"></i> ?
					{% endif %}					
					</a>
				</li>
				<!-- <li> {% include 'navbar_inc_language_switcher.html' %} </li> -->
				
				{% if LOCALE == 'en' %}
					<li class="nav-item"> <a href="" class="nav-link switch-lang-es"> <i class="fa fa-caret-right" aria-hidden="true"></i> a Español </a> </li>
				{% else %}
					<li class="nav-item"> <a href="" class="nav-link switch-lang-en"> <i class="fa fa-caret-right" aria-hidden="true"></i> to English </a> </li>
				{% endif %}
			
				{% if not request.user.is_authenticated %}
					<li class="nav-item"> 
						<a class="nav-link" href="#signup" class="signup" data-toggle="modal" data-target=".bs-modal-sm">
						<i class="fa fa-sign-in" aria-hidden="true"></i> {% trans "Entra/Regístrate" %}</a>
					</li>
				{% else %}
					<li class="nav-item"> <a class="nav-link" href="{% url 'auth_logout' %}"><i class="fa fa-sign-out" aria-hidden="true"></i>Salir</a></li>
				{% endif %}
			</ul>

		</div> {# <!-- <div class="collapse navbar-toggleable-md" id="navbarResponsive"> --> #}
	</div> {# <!-- <div class="container"> --> #}
</nav>
{# DEAL WITH LANGUAGE SWITCHING BEGIN #}
<form class="form-lang" action="{% url 'set_language' %}" method="post" style="display:none">
	{% csrf_token %}
	<input name="next" type="hidden" value="{{ redirect_to }}" />
	<select name="language" id="lang" class="selpick">
		<option value="" selected="selected">---------</option>
		<option value="es">es_MX</option>
		<option value="en">en</option>
	</select>
	<input class="form-submit" type="submit" value="Go" />
</form>
<script>
	$(document).ready(function(){
		$(".nav.navbar-nav.pull-xs-right.right-side-ul").on("click", ".switch-lang-es", function() {
			$(".form-lang select").val("es");
			$( ".form-lang" ).trigger( "submit" );
			return false;
		});
		$(".nav.navbar-nav.pull-xs-right.right-side-ul").on("click", ".switch-lang-en", function() {
			$(".form-lang select").val("en");
			$( ".form-lang" ).trigger( "submit" );
			return false;
		});
	});
</script>
{# DEAL WITH LANGUAGE SWITCHING END #}
{% include 'navbar_include_modal_login.html' %}

